"use strict";(self.webpackChunkrrg_api_documentation=self.webpackChunkrrg_api_documentation||[]).push([[4762],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),s=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=s(n),h=a,m=d["".concat(c,".").concat(h)]||d[h]||p[h]||i;return n?r.createElement(m,o(o({ref:t},u),{},{components:n})):r.createElement(m,o({ref:t},u))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var s=2;s<i;s++)o[s]=n[s];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7457:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:1},o="Authentication",l={unversionedId:"guides/authentication",id:"guides/authentication",title:"Authentication",description:"Authentication to the REST API follows the OAuth2.0 client credentials authorization flow.",source:"@site/docs/guides/authentication.md",sourceDirName:"guides",slug:"/guides/authentication",permalink:"/Restoration-Dashboard-API-Documentation/docs/guides/authentication",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Guides",permalink:"/Restoration-Dashboard-API-Documentation/docs/category/guides"},next:{title:"REST API Reference",permalink:"/Restoration-Dashboard-API-Documentation/docs/category/rest-api-reference"}},c={},s=[{value:"Obtaining Client Credentials",id:"obtaining-client-credentials",level:2},{value:"Get an Access Token",id:"get-an-access-token",level:2},{value:"Endpoint Authentication",id:"endpoint-authentication",level:2}],u={toc:s};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"authentication"},"Authentication"),(0,a.kt)("p",null,"Authentication to the REST API follows the ",(0,a.kt)("a",{parentName:"p",href:"https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/"},"OAuth2.0 client credentials")," authorization flow."),(0,a.kt)("h2",{id:"obtaining-client-credentials"},"Obtaining Client Credentials"),(0,a.kt)("p",null,"To obtain your client credentials, log in to the restoration dashboard for either the ",(0,a.kt)("a",{parentName:"p",href:"https://restoration-dashboard-staging.herokuapp.com"},"staging")," or production environment, depending on which credentials you are trying to obtain."),(0,a.kt)("p",null,"In the top right corner of the screen, click the settings ",(0,a.kt)("i",{className:"bi bi-gear"}),' icon, and click on "Client Credentials".'),(0,a.kt)("p",null,'In the modal popup, click "View Secret" to view the client secret. If the client secret is not available, contact our team to have client credentials generated for your account.'),(0,a.kt)("admonition",{type:"danger"},(0,a.kt)("p",{parentName:"admonition"},"Make sure you keep your client secret safe!")),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"If you suspect for any reason that your credentials have been compromised, contact our team to have new client credentials generated. Note: this will render the old client credentials invalid, so only make this request when necessary.")),(0,a.kt)("h2",{id:"get-an-access-token"},"Get an Access Token"),(0,a.kt)("p",null,"To obtain an access token, make a POST request to:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"{BASE_URL}/authenticate")),(0,a.kt)("p",null,"with the following body parameters:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"client_id")," - CLIENT_ID"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"client_secret")," - CLIENT_SECRET"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"grant_type")," - ",(0,a.kt)("inlineCode",{parentName:"li"},"client_credentials"))),(0,a.kt)("p",null,"An example curl request would look like the following, replacing BASE_URL, CLIENT_ID, and CLIENT_SECRET with the ",(0,a.kt)("a",{parentName:"p",href:"/docs/getting-started#api-environments"},"environment base url"),", your client ID, and your client secret respectively:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"curl -v '{BASE_URL}/authenticate'\n    -X 'POST'\n    -H 'Content-Type: application/x-www-form-urlencoded'\n    -d '\n        client_id=CLIENT_ID&\n        client_secret=CLIENT_SECRET&\n        grant_type=client_credentials\n    '\n")),(0,a.kt)("p",null,"A successful response will include a JSON body that looks like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "access_token": "ACCESS_TOKEN",\n    "token_type": "Bearer",\n    "expires_in": 3600, // Seconds until token expiration\n}\n')),(0,a.kt)("h2",{id:"endpoint-authentication"},"Endpoint Authentication"),(0,a.kt)("p",null,"To successfully authenticate to the additional endpoints described in the ",(0,a.kt)("a",{parentName:"p",href:"/docs/category/rest-api-reference"},"REST API Reference"),", add the following header to your HTTP requests:"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Authorization: Bearer ACCESS_TOKEN")),(0,a.kt)("p",null,"substituting the access token received above for the ACCESS_TOKEN placeholder."),(0,a.kt)("p",null,"Example:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"curl -v '{BASE_URL}/accounts/{CLIENT_ID}/orders'\n    -X 'GET'\n    -H 'Authorization: Bearer ACCESS_TOKEN'\n")))}p.isMDXComponent=!0}}]);